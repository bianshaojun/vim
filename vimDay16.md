# vimNote
## day16

* :[range]s/{pattern}/{string}/[flags]命令

	替换命令;

* [flags]描述

| flags | 描述 |
| ----- | ---- |
| g | 使得命令在全局范围内执行,不过是修改一行内的匹配内容(需要全文则[range]为%) |
| c | 在每一次匹配时进行询问,是否修改 |
| o | 不执行替换操作,报告本次匹配的个数 |
| e | 屏蔽命令的错误提示 |
| & | 重用上一次substitute命令所用过的标志 |

* c匹配时提示描述

| 提示 | 描述 |
| ---- | ---- |
| y | 替换此处匹配 |
| n | 忽略此处匹配 |
| q | 退出替换过程 |
| l | 替换此处匹配后退出(last) |
| < C-e > | 向上滚动屏幕 |
| < C-y > | 向下滚动屏幕 |

* 替换域中的特殊字符

| 特殊字符 | 描述 |
| -------- | ---- |
| \r | 插入一个换行符 |
| \t | 插入一个制表符 |
| \\ | 插入一个反斜杠 |
| \1 | 插入第一个子匹配(最多到\9) |
| \0 | 插入匹配模式的所有内容 |
| & | 插入匹配模式的所有内容 |
| ~ | 使用上一次替换命令的{string} |
| \={vim script} | 执行vim脚本,返回结果为{string} |

* < C-r >/命令

	读取上一次查找模式的内容;
* :%s//

	在匹配部分,连续两个/,可以重用上一次查找的模式;
* :s/{pattern}/\=@{register}/[flags]

	\=@{register}可以引用寄存器的内容,来作为{string};
* g&命令

	整个文件的范围内重复上一次的替换操作;

	等同于:%s//~/&;
* :[range]&&命令

	第一个&用作重复上一次的:s命令,第二个&用作重复上一次:s命令的标志位,总的意思就是重复选择范围并重复上一次的:s命令;

* :argdo :[range]s/{pattern}/{string}/[flags]

	在整个缓冲区替换文本;
